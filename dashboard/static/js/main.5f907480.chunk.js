(this["webpackJsonpcode-explainer-dashboard"]=this["webpackJsonpcode-explainer-dashboard"]||[]).push([[0],{38:function(e,t,a){e.exports=a.p+"static/media/Settings-01.b05db462.svg"},41:function(e,t,a){e.exports=a(499)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},496:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),o=(a(46),a(47),a(2)),l=a(3),u=a(5),i=a(4),p=(a(48),a(49),"http://localhost:8080"),d=a(14),h=a(1),g={awaitingServerResponse:!1,alertMessage:"",currentLanguage:"javascript",currentEditorToken:null,currentEditorValue:"\n// Insert your code here\n",currentRule:{id:"",tag:"",selector:"",html:"",links:[]},currentRuleType:"token",rules:[],settings:{display:!1},user:{email:"asdf@asdf.com"}};function m(e,t){for(var a=e.rules.slice(),n=0;a[n].id!==t.id;)if(++n>a.length)return console.error("RULE DOES NOT EXIST IN STATE"),e;return a[n]=t,Object(h.a)(Object(h.a)({},e),{},{rules:a})}function f(e,t){var a=e.rules.slice();return a.push(t),a.sort((function(e,t){var a=e.tag,n=t.tag;return a<n?-1:a>n?1:0})),Object(h.a)(Object(h.a)({},e),{},{currentRule:Object(h.a)(Object(h.a)({},e.currentRule),{},{id:t.id}),rules:a})}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FROM_SERVER":return Object(h.a)(Object(h.a)({},e),{},{awaitingServerResponse:!0});case"UPDATE_ALERT_MESSAGE":return Object(h.a)(Object(h.a)({},e),{},{awaitingServerResponse:!1,alertMessage:t.payload});case"UPDATE_TAG":return Object(h.a)(Object(h.a)({},e),{},{currentRule:Object(h.a)(Object(h.a)({},e.currentRule),{},{tag:t.payload})});case"UPDATE_SELECTOR":return Object(h.a)(Object(h.a)({},e),{},{currentRule:Object(h.a)(Object(h.a)({},e.currentRule),{},{selector:t.payload})});case"UPDATE_HTML":return Object(h.a)(Object(h.a)({},e),{},{currentRule:Object(h.a)(Object(h.a)({},e.currentRule),{},{html:t.payload})});case"UPDATE_LINKS":return Object(h.a)(Object(h.a)({},e),{},{currentRule:Object(h.a)(Object(h.a)({},e.currentRule),{},{links:t.payload})});case"UPDATE_EDITOR_TOKEN":return Object(h.a)(Object(h.a)({},e),{},{currentEditorToken:t.payload});case"UPDATE_EDITOR_VALUE":return Object(h.a)(Object(h.a)({},e),{},{currentEditorValue:t.payload});case"UPDATE_RULE_LIST":return Object(h.a)(Object(h.a)({},e),{},{rules:t.payload});case"UPDATE_RULE":return m(e,t.payload);case"ADD_RULE":return f(e,t.payload);case"SELECT_RULE":return Object(h.a)(Object(h.a)({},e),{},{currentRule:t.payload});case"REMOVE_RULE":var a=Object.assign({},e);return a.rules.splice(t.payload,1),a.currentRule=g.currentRule,a;case"UPDATE_RULE_TYPE":return Object(h.a)(Object(h.a)({},e),{},{currentRule:g.currentRule,currentRuleType:t.payload});case"TOGGLE_SETTINGS_DISPLAY":return Object(h.a)(Object(h.a)({},e),{},{settings:Object(h.a)(Object(h.a)({},e.settings),{},{display:!e.settings.display})});default:return e}},E=Object(d.b)(v,g),y=function(e){return{type:"UPDATE_RULE_LIST",payload:e}},b=function(e){return{type:"UPDATE_RULE",payload:e}},k=function(e){return{type:"ADD_RULE",payload:e}},O=function(e){return{type:"REMOVE_RULE",payload:e}},T=function(e){return{type:"UPDATE_ALERT_MESSAGE",payload:e}},R=a(7),j=a.n(R);var S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).closeSettings=function(){E.dispatch({type:"TOGGLE_SETTINGS_DISPLAY"})},n.updateOldPassword=function(e){n.setState({oldPassword:e.target.value})},n.updateNewPassword=function(e){n.setState({newPassword:e.target.value})},n.changePassword=function(){var e,t,a;new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})").test(n.state.newPassword)?(n.setState({passwordMessage:""}),(e=n.props.user.email,t=n.state.newPassword,a=n.state.oldPassword,e&&t&&a?j.a.post("".concat(p,"/user/new-password"),{email:e,newPassword:t,oldPassword:a}):Promise.reject("Insificient Info Provided")).then((function(e){E.dispatch(T("New Password Saved"))})).catch((function(e){E.dispatch(T("Error Saving New Password: "+e.response.data))}))):n.setState({passwordMessage:"Password must have all of the following: at least 8 characters long, contain one uppercase character, contain one lowercase character, contain a number, container a special character"})},n.logout=function(){var e;(e=n.props.user.email,e?j.a.get("".concat(p,"/user/logout")):Promise.reject("Insificient Info Provided")).then((function(e){console.log(e),window.location.href="".concat(p,"/users/login")})).catch((function(e){E.dispatch(T("Error logging out: "+e.response.data))}))},n.state={style:{display:"none"},passwordMessage:"",oldPassword:"",newPassword:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscribed=E.subscribe((function(){e.setState({style:{display:E.getState().settings.display?"flex":"none"}})}))}},{key:"componentWillUnmount",value:function(){this.subscribed.unsubscribe&&this.subscribed.unsubscribe()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Settings",style:this.state.style},r.a.createElement("div",{className:"center-piece"},r.a.createElement("div",{className:"header"},r.a.createElement("p",null,this.props.user.email),r.a.createElement("p",{className:"close-settings",onClick:function(){return e.closeSettings()}},"X")),r.a.createElement("div",{className:"password"},r.a.createElement("h3",null,"Change Password"),r.a.createElement("label",null,"Old Password"),r.a.createElement("input",{type:"password",value:this.state.oldPassword,onChange:this.updateOldPassword}),r.a.createElement("label",null,"New Password"),r.a.createElement("input",{type:"password",value:this.state.newPassword,onChange:this.updateNewPassword}),r.a.createElement("p",{className:"subnote"},this.state.passwordMessage),r.a.createElement("button",{onClick:function(){return e.changePassword()}},"Change")),r.a.createElement("button",{className:"logout-btn",onClick:function(){return e.logout()}},"Logout")))}}]),a}(r.a.Component),w=(a(68),a(38)),P=a.n(w),L=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleSettings=function(){E.dispatch({type:"TOGGLE_SETTINGS_DISPLAY"})},n.changeLanguage=function(e){n.setState({currentLanguage:e.target.value})},n.state={currentLanguage:"javascript",styles:{token:"selected",regex:"unselected"}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.selectRuleStyle(E.getState().currentRuleType)}},{key:"selectRuleStyle",value:function(e){if(E.dispatch(function(e){return{type:"UPDATE_RULE_TYPE",payload:e}}(e)),"selected"!==this.state.styles[e]){var t=Object.assign({},this.state.styles);Object.keys(t).forEach((function(a){t[a]=a===e?"selected":"unselected"})),this.setState({styles:t})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Header"},r.a.createElement("img",{src:P.a,onClick:function(){return e.toggleSettings()},className:"settings",alt:"Settings"}),r.a.createElement("div",{className:"rule-types"},r.a.createElement("button",{onClick:function(){return e.selectRuleStyle("token")},className:this.state.styles.token},"TOKEN"),r.a.createElement("button",{onClick:function(){return e.selectRuleStyle("regex")},className:this.state.styles.regex},"REGEX")),r.a.createElement("select",{onChange:this.changeLanguage,value:this.state.currentLanguage},r.a.createElement("option",{value:"javascript"},"javascript")))}}]),a}(r.a.Component),N=(a(69),a(70),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).updateTag=function(t){t.preventDefault();var a=t.target.value;e.props.updateTag(a)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Tag input-field"},r.a.createElement("label",{className:"tag-label"},"Tag"),r.a.createElement("input",{className:"tag-input",value:this.props.value,onChange:this.updateTag}))}}]),a}(r.a.Component)),D=(a(71),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).updateSelector=function(t){t.preventDefault();var a=t.target.value;e.props.updateSelector(a)},e.updateRegexSelector=function(t){t.preventDefault();var a=t.target.value,n=Object.assign({},e.props.value);n.regex=a,e.props.updateSelector(n)},e.updateTokenTypeSelector=function(t){t.preventDefault();var a=t.target.value,n=Object.assign({},e.props.value);n.tokenType=a,e.props.updateSelector(n)},e.renderSelectorInput=function(){if("token"===e.props.ruleType)return r.a.createElement("div",{className:"selector-input"},r.a.createElement("input",{className:"selector-input-token",value:e.props.value,placeholder:"tokenType:tokenValue",onChange:e.updateSelector}));var t=Object.assign({},e.props.value),a=t.regex,n=t.tokenType;return r.a.createElement("div",{className:"selector-input"},r.a.createElement("input",{className:"selector-input-regex",value:a||"",placeholder:"regex",onChange:e.updateRegexSelector}),r.a.createElement("input",{className:"selector-input-token-type",value:n||"",placeholder:"tokenType",onChange:e.updateTokenTypeSelector}))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Selector input-field"},r.a.createElement("div",{className:"selector-header display-header"},r.a.createElement("label",{className:"selector-label"},"token"===this.props.ruleType?"Token":"Regex"),r.a.createElement("p",{className:"subnote"},this.props.editorToken?this.props.editorToken:"")),this.renderSelectorInput())}}]),a}(r.a.Component)),_=(a(72),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).updateHtml=function(t){t.preventDefault();var a=t.target.value;e.props.updateHtml(a)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"HtmlInput input-field"},r.a.createElement("div",{className:"htmlInput-header display-header"},r.a.createElement("label",{className:"htmlInput-label"},"HTML"),r.a.createElement("p",{className:"subnote"},"Click here to read HTML guidelines.")),r.a.createElement("textarea",{className:"htmlInput-textarea",rows:"5",value:this.props.value,onChange:this.updateHtml}))}}]),a}(r.a.Component)),A=(a(73),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleRuleClass=function(e){var t="unselected"===n.state.classList[e]?"selected":"unselected",a=n.state.classList.map((function(e){return"unselected"}));a[e]=t,n.setState({currentIndex:e,classList:a})},n.selectRule=function(e){"unselected"===n.state.classList[e]?n.props.selectRule(n.props.value[e]):n.props.selectRule(g.currentRule),n.toggleRuleClass(e)},n.ruleClicked=function(e,t){e.target.classList&&e.target.classList.contains("remove-rule")?n.props.removeRule(t):n.selectRule(t)},n.handleKeyEvent=function(e){e.preventDefault();var t=0;"ArrowDown"===e.key?t=1:"ArrowUp"===e.key&&(t=-1);var a=n.state.currentIndex;t+a<n.state.classList.length&&t+a>=0&&(a+=t,n.selectRule(a))},n.renderDeleteIcon=function(e){return e?r.a.createElement("span",{className:"remove-rule"},"X"):null},n.state={currentIndex:-1,classList:[]},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){this.props.value.length>0&&0===this.state.classList.length&&this.setState({classList:Array.apply(null,Array(this.props.value.length)).map((function(e){return"unselected"}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"RuleList",onKeyDown:this.handleKeyEvent,tabIndex:"0"},this.props.value.map((function(t,a){return r.a.createElement("div",{className:e.state.classList[a],onClick:function(t){return e.ruleClicked(t,a)},key:t.id},t.tag,e.renderDeleteIcon("selected"===e.state.classList[a]))})))}}]),a}(r.a.Component)),x=(a(74),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).updateLinks=function(t){t.preventDefault();var a=t.target.value;e.props.updateLinks(a)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Links"},r.a.createElement("div",{className:"links-header display-header"},r.a.createElement("label",{className:"links-label"},"Links"),r.a.createElement("p",{className:"subnote"},"Links seperated by commas")),r.a.createElement("input",{disabled:!0,type:"text",className:"links-input",value:this.props.value,onChange:this.updateLinks}))}}]),a}(r.a.Component)),C=a(19),I=a.n(C);var U=a(9),M=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getRulesFromServer=function(e){var t;E.dispatch({type:"FETCH_FROM_SERVER"}),"token"===e?(t=E.getState().currentLanguage,t?j.a.get("".concat(p,"/api/v1/token/").concat(t)):Promise.reject("No language provided.")).then((function(e){var t=e.data.map((function(e){return{id:e._id,tag:e.tag,selector:e.token,html:I()(e.html),links:e.links}})).sort((function(e,t){var a=e.tag,n=t.tag;return a<n?-1:a>n?1:0}));E.dispatch(y(t)),E.dispatch(T(""))})).catch((function(e){E.dispatch(T(e.toString()))})):"regex"===e&&function(e){return e?j.a.get("".concat(p,"/api/v1/regex/").concat(e)):Promise.reject("No language provided.")}(E.getState().currentLanguage).then((function(e){var t=e.data.map((function(e){return{id:e._id,tag:e.tag,selector:{regex:e.regex,tokenType:e.tokenType},html:I()(e.html),links:e.links}})).sort((function(e,t){var a=e.tag,n=t.tag;return a<n?-1:a>n?1:0}));E.dispatch(y(t)),E.dispatch(T(""))})).catch((function(e){E.dispatch(T(e.toString()))}))},n.formatToken=function(e){return e?"{ type: '".concat(e.type,"', value: '").concat(e.value,"' }"):null},n.currentRuleType="",n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRulesFromServer(this.props.ruleType)}},{key:"componentDidUpdate",value:function(){this.currentRuleType!==this.props.ruleType&&(this.getRulesFromServer(this.props.ruleType),this.currentRuleType=this.props.ruleType)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Body"},r.a.createElement("div",{className:"left"},r.a.createElement(N,{value:this.props.tag,updateTag:this.props.updateTag}),r.a.createElement(D,{value:this.props.selector,editorToken:this.formatToken(this.props.editorToken),updateSelector:this.props.updateSelector,ruleType:this.props.ruleType}),r.a.createElement(_,{value:this.props.html,updateHtml:this.props.updateHtml})),r.a.createElement("div",{className:"right"},this.renderRuleList,r.a.createElement(A,{value:this.props.rules,selectRule:this.props.selectRule,removeRule:this.props.removeRule}),r.a.createElement(x,{value:this.props.links,updateLinks:this.props.updateLinks})))}}]),a}(r.a.Component),H=Object(U.b)((function(e){return{tag:e.currentRule.tag,selector:e.currentRule.selector,html:e.currentRule.html,links:e.currentRule.links,rules:e.rules,editorToken:e.currentEditorToken,ruleType:e.currentRuleType,regex:e.currentRule.selector.regex?e.currentRule.selector.regex:"",tokenType:e.currentRule.selector.tokenType?e.currentRule.selector.tokenType:""}}),(function(e){return{updateTag:function(t){e(function(e){return{type:"UPDATE_TAG",payload:e}}(t))},updateSelector:function(t){e({type:"UPDATE_SELECTOR",payload:t})},updateHtml:function(t){e(function(e){return{type:"UPDATE_HTML",payload:e}}(t))},updateLinks:function(t){e(function(e){return{type:"UPDATE_LINKS",payload:e}}(t))},selectRule:function(t){e({type:"SELECT_RULE",payload:t})},removeRule:function(e){var t,a,n=E.getState().rules[e];window.confirm('Are you sure you want to delete the rule "'.concat(n.tag,'"?'))&&("token"===E.getState().currentRuleType?(t=n.id,a=E.getState().currentLanguage,t&&a?j.a.delete("".concat(p,"/api/v1/token/").concat(a,"/").concat(t)):Promise.reject("Insificient Info Provided")).then((function(){E.dispatch(O(e)),E.dispatch(T("Rule Deleted"))})).catch((function(e){return E.dispatch(T(e.toString()))})):"regex"===E.getState().currentRuleType&&function(e,t){return e&&t?j.a.delete("".concat(p,"/api/v1/regex/").concat(t,"/").concat(e)):Promise.reject("Insificient Info Provided")}(n.id,E.getState().currentLanguage).then((function(){E.dispatch(O(e)),E.dispatch(T("Rule Deleted"))})).catch((function(e){return E.dispatch(T(e.toString()))})))}}}))(M),V=(a(85),a(86),a(39)),F=a.n(V),G=a(8),K=(a(92),a(494),a(495),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).markEditorFromArray=function(e){n.clearEditorMarks(),e.forEach((function(e){n.markers.push(n.Editor.current.editor.session.addMarker(e,"ace_selection"))}))},n.clearEditorMarks=function(){n.markers.forEach((function(e){n.Editor.current.editor.session.removeMarker(e)})),n.markers=[]},n.markFromTokens=function(e){for(var t=e.split(":"),a=n.Editor.current.editor.session,r=a.doc.$lines,c=[],s=function(e){var n=r[e],s=0;a.getTokens(e).forEach((function(a,r){if(a.type===t[0]&&a.value===t[1]){var o=n.indexOf(a.value,s);c.push(new G.Range(e,o,e,o+a.value.length)),s=n.indexOf(a.value,s+1)}}))},o=0;o<r.length;o++)s(o);n.markEditorFromArray(c)},n.markFromRegex=function(e,t){for(var a=n.Editor.current.editor.session,r=a.doc.$lines,c=[],s=function(n){var s=r[n];a.getTokens(n).forEach((function(a,r){a.type===t&&(e?new RegExp(e,"g").test(a.value)&&c.push(new G.Range(n,s.indexOf(a.value),n,s.indexOf(a.value)+a.value.length)):c.push(new G.Range(n,s.indexOf(a.value),n,s.indexOf(a.value)+a.value.length)))}))},o=0;o<r.length;o++)s(o);n.markEditorFromArray(c)},n.Editor=r.a.createRef(),n.markers=[],n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.Editor.current.editor;t.on("click",(function(a,n){var r=a.$pos,c=t.session.getTokenAt(r.row,r.column);e.props.onTokenSelect(c)}))}},{key:"componentDidUpdate",value:function(){if(this.markers.length>0&&this.clearEditorMarks(),"token"===this.props.ruleType)2===this.props.selector.split(":").length&&this.markFromTokens(this.props.selector);else if("regex"===this.props.ruleType){var e=this.props.selector,t=e.regex,a=e.tokenType;this.markFromRegex(t,a)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"CodeEditor"},r.a.createElement(F.a,{ref:this.Editor,mode:"javascript",theme:"kr_theme",value:this.props.placeholder,onChange:this.props.onEditorValueChange,width:"100%",height:"100%"}))}}]),a}(r.a.Component)),X=(a(496),a(21)),Y=a.n(X),B=a(22),W=a.n(B),$=a(40),z=a.n($);a(497);W.a.registerLanguage("javascript",z.a);var J=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updateHighlighting=function(){n.HtmlDisplay.current&&n.HtmlDisplay.current.querySelectorAll("pre code").forEach((function(e){W.a.highlightBlock(e)}))},n.getHtml=function(){var e=Y()(n.props.value,{allowedTags:Y.a.defaults.allowedTags.concat(["h1","h2"])});return e=e.replace(/\\n/g,"\n"),n.updateHighlighting(),{__html:e}},n.HtmlDisplay=r.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateHighlighting()}},{key:"componentDidUpdate",value:function(){this.updateHighlighting()}},{key:"render",value:function(){return r.a.createElement("div",{className:"HtmlDisplay"},r.a.createElement("div",{ref:this.HtmlDisplay,className:"display",dangerouslySetInnerHTML:this.getHtml()}))}}]),a}(r.a.Component),Z=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).saveRule=function(){e.props.saveRule()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"footer-components"},r.a.createElement(K,{placeholder:this.props.editorValue,onTokenSelect:this.props.updateEditorToken,onEditorValueChange:this.props.updateEditorValue,selector:this.props.selector,ruleType:this.props.ruleType}),r.a.createElement(J,{value:this.props.html})),r.a.createElement("div",{className:"operations"},r.a.createElement("button",{className:"save-button",onClick:this.saveRule},"Save")))}}]),a}(r.a.Component);var q=Object(U.b)((function(e){return{html:e.currentRule.html,selector:e.currentRule.selector,editorValue:e.currentEditorValue,ruleType:e.currentRuleType}}),(function(e){return{updateEditorToken:function(t){e(function(e){return{type:"UPDATE_EDITOR_TOKEN",payload:e}}(t))},updateEditorValue:function(t){e(function(e){return{type:"UPDATE_EDITOR_VALUE",payload:e}}(t))},saveRule:function(){var e=E.getState().currentRuleType;"token"===e?function(e){var t=E.getState(),a=t.currentRule.id,n=function(e){var t=Object.assign({},e);try{if(t.hasOwnProperty("id")&&delete t.id,t.token=t.selector,t.tokenType=t.selector.split(":")[0],t.tokenValue=t.selector.split(":")[1],delete t.selector,!t.hasOwnProperty("tokenType")||!t.hasOwnProperty("tokenValue")||!t.hasOwnProperty("token")||t.hasOwnProperty("selector"))throw new Error("Improper token format")}catch(a){return console.log("Error formatting token:",a),null}return t}(t.currentRule);if(!n)return;E.dispatch({type:"FETCH_FROM_SERVER"}),a?function(e,t,a){return t&&e&&a?j.a.put("".concat(p,"/api/v1/token/").concat(a,"/").concat(e),t):Promise.reject("Insificient Info Provided")}(a,n,t.currentLanguage).then((function(e){"OK"===e.data&&(E.dispatch(b(t.currentRule)),E.dispatch(T("Rule Saved")))})).catch((function(e){return E.dispatch(T(e.toString()))})):(r=n,c=t.currentLanguage,r&&c?j.a.post("".concat(p,"/api/v1/token/").concat(c),r):Promise.reject("Insificient Info Provided")).then((function(e){if(201===e.status){console.log("RESP TOLK",e.data);var a=Object.assign({},t.currentRule);a.id=e.data,E.dispatch(k(a)),E.dispatch(T("New Rule Added"))}})).catch((function(e){return E.dispatch(T(e.toString()))}));var r,c}():"regex"===e&&function(e){var t=E.getState(),a=t.currentRule.id,n=function(e){var t=Object.assign({},e);try{if(t.hasOwnProperty("id")&&delete t.id,t.regex=t.selector.regex,t.tokenType=t.selector.tokenType,delete t.selector,!t.hasOwnProperty("tokenType")||!t.hasOwnProperty("regex")||t.hasOwnProperty("selector"))throw new Error("Improper token format")}catch(a){return console.log("Error formatting token:",a),null}return t}(t.currentRule);if(!n)return;E.dispatch({type:"FETCH_FROM_SERVER"}),a?function(e,t,a){return t&&e&&a?j.a.put("".concat(p,"/api/v1/regex/").concat(a,"/").concat(e),t):Promise.reject("Insificient Info Provided")}(a,n,t.currentLanguage).then((function(e){"OK"===e.data&&(E.dispatch(b(t.currentRule)),E.dispatch(T("Rule Saved")))})).catch((function(e){return E.dispatch(T(e.toString()))})):(r=n,c=t.currentLanguage,r&&c?j.a.post("".concat(p,"/api/v1/regex/").concat(c),r):Promise.reject("Insificient Info Provided")).then((function(e){if(201===e.status){console.log("RESP REGEX",e.data);var a=Object.assign({},t.currentRule);a.id=e.data,E.dispatch(k(a)),E.dispatch(T("New Rule Added"))}})).catch((function(e){return E.dispatch(T(e.toString()))}));var r,c}()}}}))(Z),Q=(a(498),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={msg:"",style:{display:"none"}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.subscribed=E.subscribe((function(){E.getState().alertMessage&&(e.setState({msg:E.getState().alertMessage,style:{display:"flex"}}),setTimeout((function(){e.setState({style:{display:"none"}}),E.dispatch(T(""))}),4e3))}))}},{key:"componentWillUnmount",value:function(){this.subscribed.unsubscribe&&this.subscribed.unsubscribe()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Notification",style:this.state.style},r.a.createElement("div",{className:"center-piece"},r.a.createElement("p",null,this.state.msg)))}}]),a}(r.a.Component)),ee=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:E.getState().user},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement(S,{user:this.state.user}),r.a.createElement(L,null),r.a.createElement(H,null),r.a.createElement(q,null),r.a.createElement(Q,null))}}]),a}(r.a.Component);var te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U.a,{store:E},r.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[41,1,2]]]);
//# sourceMappingURL=main.5f907480.chunk.js.map